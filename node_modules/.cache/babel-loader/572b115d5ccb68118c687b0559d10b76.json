{"ast":null,"code":"import _classCallCheck from \"/var/www/html/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/html/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/html/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/html/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/var/www/html/demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/var/www/html/demo/src/containers/Sidebar/Sidebar.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport clone from 'clone';\nimport { Link } from 'react-router-dom';\nimport { Layout } from 'antd';\nimport options1 from './options';\nimport Scrollbars from '../../components/utility/customScrollBar.js';\nimport Menu from '../../components/uielements/menu';\nimport IntlMessages from '../../components/utility/intlMessages';\nimport SidebarWrapper from './sidebar.style';\nimport appActions from '../../redux/app/actions';\nimport Logo from '../../components/utility/logo';\nimport themes from '../../settings/themes';\nimport { themeConfig } from '../../settings';\nvar SubMenu = Menu.SubMenu;\nvar Sider = Layout.Sider;\nvar toggleOpenDrawer = appActions.toggleOpenDrawer,\n    changeOpenKeys = appActions.changeOpenKeys,\n    changeCurrent = appActions.changeCurrent,\n    toggleCollapsed = appActions.toggleCollapsed;\n\nvar stripTrailingSlash = function stripTrailingSlash(str) {\n  if (str.substr(-1) === '/') {\n    return str.substr(0, str.length - 1);\n  }\n\n  return str;\n};\n\nvar Sidebar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Sidebar, _Component);\n\n  function Sidebar(props) {\n    var _this;\n\n    _classCallCheck(this, Sidebar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Sidebar).call(this, props));\n\n    _this.getAncestorKeys = function (key) {\n      var map = {\n        sub3: ['sub2']\n      };\n      return map[key] || [];\n    };\n\n    _this.getMenuItem = function (_ref) {\n      var singleOption = _ref.singleOption,\n          submenuStyle = _ref.submenuStyle,\n          submenuColor = _ref.submenuColor;\n      var key = singleOption.key,\n          label = singleOption.label,\n          leftIcon = singleOption.leftIcon,\n          children = singleOption.children;\n      var url = stripTrailingSlash(_this.props.url);\n\n      if (children) {\n        return React.createElement(SubMenu, {\n          key: key,\n          title: React.createElement(\"span\", {\n            className: \"isoMenuHolder\",\n            style: submenuColor,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: leftIcon,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            className: \"nav-text\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }, React.createElement(IntlMessages, {\n            id: label,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }))),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, children.map(function (child) {\n          var linkTo = child.withoutDashboard ? \"/\".concat(child.key) : \"\".concat(url, \"/\").concat(child.key);\n          return React.createElement(Menu.Item, {\n            style: submenuStyle,\n            key: child.key,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, React.createElement(Link, {\n            style: submenuColor,\n            to: linkTo,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, React.createElement(IntlMessages, {\n            id: child.label,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          })));\n        }));\n      }\n\n      return React.createElement(Menu.Item, {\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"\".concat(url, \"/\").concat(key),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"isoMenuHolder\",\n        style: submenuColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: leftIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"nav-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(IntlMessages, {\n        id: label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      })))));\n    };\n\n    _this.state = {\n      org_id: localStorage.getItem('org_id'),\n      menu_list: []\n    };\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onOpenChange = _this.onOpenChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Sidebar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var Noptions = Array.from(new Set(options1));\n      this.setState({\n        menu_list: Noptions\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var _this2 = this;\n\n      this.props.changeCurrent([e.key]);\n\n      if (this.props.app.view === 'MobileView') {\n        setTimeout(function () {\n          _this2.props.toggleCollapsed();\n\n          _this2.props.toggleOpenDrawer();\n        }, 100);\n      }\n    }\n  }, {\n    key: \"onOpenChange\",\n    value: function onOpenChange(newOpenKeys) {\n      var _this$props = this.props,\n          app = _this$props.app,\n          changeOpenKeys = _this$props.changeOpenKeys;\n      var latestOpenKey = newOpenKeys.find(function (key) {\n        return !(app.openKeys.indexOf(key) > -1);\n      });\n      var latestCloseKey = app.openKeys.find(function (key) {\n        return !(newOpenKeys.indexOf(key) > -1);\n      });\n      var nextOpenKeys = [];\n\n      if (latestOpenKey) {\n        nextOpenKeys = this.getAncestorKeys(latestOpenKey).concat(latestOpenKey);\n      }\n\n      if (latestCloseKey) {\n        nextOpenKeys = this.getAncestorKeys(latestCloseKey);\n      }\n\n      changeOpenKeys(nextOpenKeys);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          app = _this$props2.app,\n          toggleOpenDrawer = _this$props2.toggleOpenDrawer,\n          height = _this$props2.height;\n      var collapsed = clone(app.collapsed) && !clone(app.openDrawer);\n      var openDrawer = app.openDrawer;\n      var mode = collapsed === true ? 'vertical' : 'inline';\n\n      var onMouseEnter = function onMouseEnter(event) {\n        if (openDrawer === false) {\n          toggleOpenDrawer();\n        }\n\n        return;\n      };\n\n      var onMouseLeave = function onMouseLeave() {\n        if (openDrawer === true) {\n          toggleOpenDrawer();\n        }\n\n        return;\n      };\n\n      var customizedTheme = themes[themeConfig.theme];\n      var styling = {\n        backgroundColor: customizedTheme.backgroundColor\n      };\n      var submenuStyle = {\n        backgroundColor: 'rgba(0,0,0,0.3)',\n        color: customizedTheme.textColor\n      };\n      var submenuColor = {\n        color: customizedTheme.textColor\n      };\n      return React.createElement(SidebarWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(Sider, {\n        trigger: null,\n        collapsible: true,\n        collapsed: collapsed,\n        width: 240,\n        className: \"isomorphicSidebar\",\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: onMouseLeave,\n        style: styling,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        collapsed: collapsed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), React.createElement(Scrollbars, {\n        style: {\n          height: height - 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(Menu, {\n        onClick: this.handleClick,\n        theme: \"dark\",\n        className: \"isoDashboardMenu\",\n        mode: mode,\n        openKeys: collapsed ? [] : app.openKeys,\n        selectedKeys: app.current,\n        onOpenChange: this.onOpenChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, this.state.menu_list.map(function (singleOption) {\n        return _this3.getMenuItem({\n          submenuStyle: submenuStyle,\n          submenuColor: submenuColor,\n          singleOption: singleOption\n        });\n      })))));\n    }\n  }]);\n\n  return Sidebar;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    app: state.App,\n    height: state.App.height\n  };\n}, {\n  toggleOpenDrawer: toggleOpenDrawer,\n  changeOpenKeys: changeOpenKeys,\n  changeCurrent: changeCurrent,\n  toggleCollapsed: toggleCollapsed\n})(Sidebar);","map":{"version":3,"sources":["/var/www/html/demo/src/containers/Sidebar/Sidebar.js"],"names":["React","Component","connect","clone","Link","Layout","options1","Scrollbars","Menu","IntlMessages","SidebarWrapper","appActions","Logo","themes","themeConfig","SubMenu","Sider","toggleOpenDrawer","changeOpenKeys","changeCurrent","toggleCollapsed","stripTrailingSlash","str","substr","length","Sidebar","props","getAncestorKeys","key","map","sub3","getMenuItem","singleOption","submenuStyle","submenuColor","label","leftIcon","children","url","child","linkTo","withoutDashboard","state","org_id","localStorage","getItem","menu_list","handleClick","bind","onOpenChange","Noptions","Array","from","Set","setState","e","app","view","setTimeout","newOpenKeys","latestOpenKey","find","openKeys","indexOf","latestCloseKey","nextOpenKeys","concat","height","collapsed","openDrawer","mode","onMouseEnter","event","onMouseLeave","customizedTheme","theme","styling","backgroundColor","color","textColor","current","App"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport clone from 'clone';\r\nimport { Link } from 'react-router-dom';\r\nimport { Layout } from 'antd';\r\nimport options1 from './options';\r\nimport Scrollbars from '../../components/utility/customScrollBar.js';\r\nimport Menu from '../../components/uielements/menu';\r\nimport IntlMessages from '../../components/utility/intlMessages';\r\nimport SidebarWrapper from './sidebar.style';\r\nimport appActions from '../../redux/app/actions';\r\nimport Logo from '../../components/utility/logo';\r\nimport themes from '../../settings/themes';\r\nimport { themeConfig } from '../../settings';\r\n\r\n\r\nconst SubMenu = Menu.SubMenu;\r\nconst { Sider } = Layout;\r\n\r\nconst {\r\n  toggleOpenDrawer,\r\n  changeOpenKeys,\r\n  changeCurrent,\r\n  toggleCollapsed\r\n} = appActions;\r\nconst stripTrailingSlash = str => {\r\n  if (str.substr(-1) === '/') {\r\n    return str.substr(0, str.length - 1);\r\n  }\r\n  return str;\r\n};\r\n\r\nclass Sidebar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      org_id : localStorage.getItem('org_id') ,\r\n      menu_list: []\r\n    }\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.onOpenChange = this.onOpenChange.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    var Noptions = Array.from(new Set(options1));\r\n    \r\n    this.setState({\r\n      menu_list : Noptions\r\n    });\r\n  \r\n  }\r\n  \r\n  handleClick(e) {\r\n    this.props.changeCurrent([e.key]);\r\n    if (this.props.app.view === 'MobileView') {\r\n      setTimeout(() => {\r\n        this.props.toggleCollapsed();\r\n        this.props.toggleOpenDrawer();\r\n      }, 100);\r\n    }\r\n  }\r\n  onOpenChange(newOpenKeys) {\r\n    const { app, changeOpenKeys } = this.props;\r\n    const latestOpenKey = newOpenKeys.find(\r\n      key => !(app.openKeys.indexOf(key) > -1)\r\n    );\r\n    const latestCloseKey = app.openKeys.find(\r\n      key => !(newOpenKeys.indexOf(key) > -1)\r\n    );\r\n    let nextOpenKeys = [];\r\n    if (latestOpenKey) {\r\n      nextOpenKeys = this.getAncestorKeys(latestOpenKey).concat(latestOpenKey);\r\n    }\r\n    if (latestCloseKey) {\r\n      nextOpenKeys = this.getAncestorKeys(latestCloseKey);\r\n    }\r\n    changeOpenKeys(nextOpenKeys);\r\n  }\r\n  getAncestorKeys = key => {\r\n    const map = {\r\n      sub3: ['sub2']\r\n    };\r\n    return map[key] || [];\r\n  };\r\n  getMenuItem = ({ singleOption, submenuStyle, submenuColor }) => {\r\n    const { key, label, leftIcon, children } = singleOption;\r\n    const url = stripTrailingSlash(this.props.url);\r\n    if (children) {\r\n      return (\r\n        <SubMenu\r\n          key={key}\r\n          title={\r\n            <span className=\"isoMenuHolder\" style={submenuColor}>\r\n              <i className={leftIcon} />\r\n              <span className=\"nav-text\">\r\n                <IntlMessages id={label} />\r\n              </span>\r\n            </span>\r\n          }\r\n        >\r\n          {\r\n            children.map(child => {\r\n            \r\n            const linkTo = child.withoutDashboard\r\n              ? `/${child.key}`\r\n              : `${url}/${child.key}`;\r\n            return (\r\n              <Menu.Item style={submenuStyle} key={child.key}>\r\n                <Link style={submenuColor} to={linkTo}>\r\n                  <IntlMessages id={child.label} />\r\n                </Link>\r\n              </Menu.Item>\r\n            );\r\n          })}\r\n        </SubMenu>\r\n      );\r\n    }\r\n    return (\r\n      <Menu.Item key={key}>\r\n        <Link to={`${url}/${key}`}>\r\n          <span className=\"isoMenuHolder\" style={submenuColor}>\r\n            <i className={leftIcon} />\r\n            <span className=\"nav-text\">\r\n              <IntlMessages id={label} />\r\n            </span>\r\n          </span>\r\n        </Link>\r\n      </Menu.Item>\r\n    );\r\n  };\r\n  render() {\r\n    const { app, toggleOpenDrawer, height } = this.props;\r\n    const collapsed = clone(app.collapsed) && !clone(app.openDrawer);\r\n    const { openDrawer } = app;\r\n    const mode = collapsed === true ? 'vertical' : 'inline';\r\n    const onMouseEnter = event => {\r\n      if (openDrawer === false) {\r\n        toggleOpenDrawer();\r\n      }\r\n      return;\r\n    };\r\n    const onMouseLeave = () => {\r\n      if (openDrawer === true) {\r\n        toggleOpenDrawer();\r\n      }\r\n      return;\r\n    };\r\n    const customizedTheme = themes[themeConfig.theme];\r\n    const styling = {\r\n      backgroundColor: customizedTheme.backgroundColor\r\n    };\r\n    const submenuStyle = {\r\n      backgroundColor: 'rgba(0,0,0,0.3)',\r\n      color: customizedTheme.textColor\r\n    };\r\n    const submenuColor = {\r\n      color: customizedTheme.textColor\r\n    };\r\n    return (\r\n      <SidebarWrapper>\r\n        <Sider\r\n          trigger={null}\r\n          collapsible={true}\r\n          collapsed={collapsed}\r\n          width={240}\r\n          className=\"isomorphicSidebar\"\r\n          onMouseEnter={onMouseEnter}\r\n          onMouseLeave={onMouseLeave}\r\n          style={styling}\r\n        >\r\n          <Logo collapsed={collapsed} />\r\n          <Scrollbars style={{ height: height - 70 }}>\r\n            <Menu\r\n              onClick={this.handleClick}\r\n              theme=\"dark\"\r\n              className=\"isoDashboardMenu\"\r\n              mode={mode}\r\n              openKeys={collapsed ? [] : app.openKeys}\r\n              selectedKeys={app.current}\r\n              onOpenChange={this.onOpenChange}\r\n            >\r\n              {this.state.menu_list.map(singleOption =>\r\n                \r\n                this.getMenuItem({ submenuStyle, submenuColor, singleOption })\r\n              )}\r\n            </Menu>\r\n          </Scrollbars>\r\n        </Sider>\r\n      </SidebarWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    app: state.App,\r\n    height: state.App.height\r\n  }),\r\n  { toggleOpenDrawer, changeOpenKeys, changeCurrent, toggleCollapsed }\r\n)(Sidebar);\r\n"]},"metadata":{},"sourceType":"module"}